let r;const _=new Array(32).fill(void 0);_.push(void 0,null,!0,!1);function s(e){return _[e]}let a=_.length;function p(e){e<36||(_[e]=a,a=e)}function h(e){const t=s(e);return p(e),t}function c(e){a===_.length&&_.push(_.length+1);const t=a;return a=_[t],_[t]=e,t}const l=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let u;function w(){return u.byteLength===0&&(u=new Uint8Array(r.memory.buffer)),u}function g(e,t){return l.decode(w().subarray(e,e+t))}let d=0;function A(e,t){const n=t(e.length*1);return w().set(e,n/1),d=e.length,n}function i(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(c(n))}}function W(e,t){return w().subarray(e/1,e/1+t)}class f{static __wrap(t){const n=Object.create(f.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();r.__wbg_emulator_free(t)}constructor(){const t=r.emulator_new();return f.__wrap(t)}is_draw_flag(){return r.emulator_is_draw_flag(this.ptr)!==0}set_draw_flag(t){r.emulator_set_draw_flag(this.ptr,t)}get_columns(){return r.emulator_get_columns(this.ptr)}get_rows(){return r.emulator_get_rows(this.ptr)}get_high_res(){return r.emulator_get_high_res(this.ptr)!==0}get_pixel(t,n){return r.emulator_get_pixel(this.ptr,t,n)!==0}get_rate(){return r.emulator_get_rate(this.ptr)}cycle(){r.emulator_cycle(this.ptr)}ticker(){r.emulator_ticker(this.ptr)}key_down(t){return r.emulator_key_down(this.ptr,t.codePointAt(0))!==0}key_up(t){return r.emulator_key_up(this.ptr,t.codePointAt(0))!==0}reset(){r.emulator_reset(this.ptr)}load_rom(t){const n=A(t,r.__wbindgen_malloc),o=d;r.emulator_load_rom(this.ptr,n,o)}toggle_running(){return r.emulator_toggle_running(this.ptr)!==0}reset_keys(){r.emulator_reset_keys(this.ptr)}get_sound_timer(){return r.emulator_get_sound_timer(this.ptr)}}async function U(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(o){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function m(){const e={};return e.wbg={},e.wbg.__wbg_process_e56fd54cf6319b6c=function(t){const n=s(t).process;return c(n)},e.wbg.__wbindgen_is_object=function(t){const n=s(t);return typeof n=="object"&&n!==null},e.wbg.__wbg_versions_77e21455908dad33=function(t){const n=s(t).versions;return c(n)},e.wbg.__wbindgen_object_drop_ref=function(t){h(t)},e.wbg.__wbg_node_0dd25d832e4785d5=function(t){const n=s(t).node;return c(n)},e.wbg.__wbindgen_is_string=function(t){return typeof s(t)=="string"},e.wbg.__wbg_static_accessor_NODE_MODULE_26b231378c1be7dd=function(){const t=module;return c(t)},e.wbg.__wbg_require_0db1598d9ccecb30=function(){return i(function(t,n,o){const b=s(t).require(g(n,o));return c(b)},arguments)},e.wbg.__wbg_crypto_b95d7173266618a9=function(t){const n=s(t).crypto;return c(n)},e.wbg.__wbg_msCrypto_5a86d77a66230f81=function(t){const n=s(t).msCrypto;return c(n)},e.wbg.__wbg_getRandomValues_b14734aa289bc356=function(){return i(function(t,n){s(t).getRandomValues(s(n))},arguments)},e.wbg.__wbg_randomFillSync_91e2b39becca6147=function(){return i(function(t,n,o){s(t).randomFillSync(W(n,o))},arguments)},e.wbg.__wbg_newnoargs_fc5356289219b93b=function(t,n){const o=new Function(g(t,n));return c(o)},e.wbg.__wbg_call_4573f605ca4b5f10=function(){return i(function(t,n){const o=s(t).call(s(n));return c(o)},arguments)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=s(t);return c(n)},e.wbg.__wbg_self_ba1ddafe9ea7a3a2=function(){return i(function(){const t=self.self;return c(t)},arguments)},e.wbg.__wbg_window_be3cc430364fd32c=function(){return i(function(){const t=window.window;return c(t)},arguments)},e.wbg.__wbg_globalThis_56d9c9f814daeeee=function(){return i(function(){const t=globalThis.globalThis;return c(t)},arguments)},e.wbg.__wbg_global_8c35aeee4ac77f2b=function(){return i(function(){const t=global.global;return c(t)},arguments)},e.wbg.__wbindgen_is_undefined=function(t){return s(t)===void 0},e.wbg.__wbg_buffer_de1150f91b23aa89=function(t){const n=s(t).buffer;return c(n)},e.wbg.__wbg_new_97cf52648830a70d=function(t){const n=new Uint8Array(s(t));return c(n)},e.wbg.__wbg_set_a0172b213e2469e9=function(t,n,o){s(t).set(s(n),o>>>0)},e.wbg.__wbg_length_e09c0b925ab8de5d=function(t){return s(t).length},e.wbg.__wbg_newwithlength_e833b89f9db02732=function(t){const n=new Uint8Array(t>>>0);return c(n)},e.wbg.__wbg_subarray_9482ae5cd5cd99d3=function(t,n,o){const b=s(t).subarray(n>>>0,o>>>0);return c(b)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(g(t,n))},e.wbg.__wbindgen_memory=function(){const t=r.memory;return c(t)},e}function y(e,t){return r=e.exports,j.__wbindgen_wasm_module=t,u=new Uint8Array(r.memory.buffer),r}function k(e){const t=m(),n=new WebAssembly.Module(e),o=new WebAssembly.Instance(n,t);return y(o,n)}async function j(e){typeof e=="undefined"&&(e=new URL("/chip8/assets/chip8_wasm_bg.430141e3.wasm",self.location));const t=m();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:o}=await U(await e,t);return y(n,o)}export{f as Emulator,j as default,k as initSync};
